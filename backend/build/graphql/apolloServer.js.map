{"version":3,"sources":["../../src/graphql/apolloServer.js"],"names":["server","development","process","env","NODE_ENV","ApolloServer","schema","context","req","res","accessToken","cookies","at","prisma","tracing","debug","introspection","playground","settings"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;AACA;;AAEA,IAAMA,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,MAAMC,WAAW,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7C;AAEA,SAAO,IAAIC,iCAAJ,CAAiB;AACtBC,IAAAA,MAAM,EAANA,kBADsB;AAGtBC,IAAAA,OAAO;AAAA,mGAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,gBAAAA,GAAT,QAASA,GAAT,EAAcC,GAAd,QAAcA,GAAd;AACHC,gBAAAA,WADG,GACWF,GAAG,CAACG,OAAJ,CAAYC,EADvB;AAAA,kDAGA;AAAEJ,kBAAAA,GAAG,EAAHA,GAAF;AAAOC,kBAAAA,GAAG,EAAHA,GAAP;AAAYI,kBAAAA,MAAM,EAANA,kBAAZ;AAAoBH,kBAAAA,WAAW,EAAXA;AAApB,iBAHA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAHe;AAStBI,IAAAA,OAAO,EAAEb,WATa;AAUtBc,IAAAA,KAAK,EAAEd,WAVe;AAWtBe,IAAAA,aAAa,EAAEf,WAXO;AAYtBgB,IAAAA,UAAU,EAAEhB,WAAW,IAAI;AACzBiB,MAAAA,QAAQ,EAAE;AAAE,wBAAgB,OAAlB;AAA2B,+BAAuB;AAAlD;AADe;AAZL,GAAjB,CAAP;AAgBD,CAnBD;;eAqBelB,M","sourcesContent":["import { ApolloServer } from 'apollo-server-express';\r\n\r\nimport prisma from '../prisma/prisma';\r\nimport schema from './schema';\r\n\r\nconst server = () => {\r\n  const development = process.env.NODE_ENV === 'development';\r\n\r\n  return new ApolloServer({\r\n    schema,\r\n\r\n    context: async ({ req, res }) => {\r\n      let accessToken = req.cookies.at;\r\n\r\n      return { req, res, prisma, accessToken };\r\n    },\r\n\r\n    tracing: development,\r\n    debug: development,\r\n    introspection: development,\r\n    playground: development && {\r\n      settings: { 'editor.theme': 'light', 'request.credentials': 'include' }\r\n    }\r\n  });\r\n};\r\n\r\nexport default server;\r\n"],"file":"apolloServer.js"}